$("#credentials-main-update").on("hidden.bs.modal",function(){$("#credentials-main-update-current-password").val(""),$("#credentials-main-update-new-password").val(""),$("#credentials-main-update-password-confirmation").val("")}),$("#credentials-main-update-password-submit").click(function(){$("#credentials-main-update-fail").css("display","none"),$("#credentials-main-update-success").css("display","none");var a=!0;""==$("#credentials-main-update-current-password").val()&&($("#credentials-main-update-current-password").parent().addClass("has-danger"),$("#credentials-main-update-current-password").next("small").text("Password must not be empty"),a=!1),""==$("#credentials-main-update-new-password").val()&&($("#credentials-main-update-new-password").parent().addClass("has-danger"),$("#credentials-main-update-new-password").next("small").text("Password must not be empty"),a=!1),""==$("#credentials-main-update-password-confirmation").val()&&($("#credentials-main-update-password-confirmation").parent().addClass("has-danger"),$("#credentials-main-update-password-confirmation").next("small").text("Password confirmation must not be empty"),a=!1),$("#credentials-main-update-new-password").val()!=$("#credentials-main-update-password-confirmation").val()&&($("#credentials-main-update-password-confirmation").parent().addClass("has-danger"),$("#credentials-main-update-password-confirmation").next("small").text("Wrong password confirmation"),a=!1),a&&($("#credentials-main-update-current-password").prop("disabled",!0),$("#credentials-main-update-current-password").addClass("disabled"),$("#credentials-main-update-new-password").prop("disabled",!0),$("#credentials-main-update-new-password").addClass("disabled"),$("#credentials-main-update-password-confirmation").prop("disabled",!0),$("#credentials-main-update-password-confirmation").addClass("disabled"),$("#credentials-main-update-loading").css("display","block"),$.ajax({url:"../userTrait.php",type:"POST",data:{action:"updatePassword",id_user:$("#credentials-main-update-user-id").val(),currentPassword:$("#credentials-main-update-current-password").val(),newPassword:$("#credentials-main-update-new-password").val(),passwordConfirmation:$("#credentials-main-update-password-confirmation").val()},dataType:"json",success:function(a){200==a.statusCode?($("#credentials-main-update-loading").css("display","none"),$("#credentials-main-update-success").css("display","block"),$("#credentials-main-update-success").html(a.msg),setTimeout(function(){window.location.reload(1)},2e3)):($("#credentials-main-update-loading").css("display","none"),$("#credentials-main-update-current-password").prop("disabled",!1),$("#credentials-main-update-current-password").removeClass("disabled"),$("#credentials-main-update-new-password").prop("disabled",!1),$("#credentials-main-update-new-password").removeClass("disabled"),$("#credentials-main-update-password-confirmation").prop("disabled",!1),$("#credentials-main-update-password-confirmation").removeClass("disabled"),$("#credentials-main-update-fail").css("display","block"),$("#credentials-main-update-fail").html(a.msg))}}))}),$("#credentials-main-update-current-password").keyup(function(){null!=$(this).val()&&$(this).parent().hasClass("has-danger")&&($(this).parent().removeClass("has-danger"),$(this).parent().addClass("has-success"),$(this).next("small").text("valid"))}),$("#credentials-main-update-new-password").keyup(function(){null!=$(this).val()&&($(this).parent().hasClass("has-danger")&&($(this).parent().removeClass("has-danger"),$(this).parent().addClass("has-success"),$(this).next("small").text("valid")),$(this).val()==$("#credentials-main-update-password-confirmation").val()?$("#credentials-main-update-password-confirmation").parent().hasClass("has-danger")&&($("#credentials-main-update-password-confirmation").parent().removeClass("has-danger"),$("#credentials-main-update-password-confirmation").parent().addClass("has-success"),$("#credentials-main-update-password-confirmation").next("small").text("valid")):$("#credentials-main-update-password-confirmation").parent().hasClass("has-success")&&($("#credentials-main-update-password-confirmation").parent().removeClass("has-success"),$("#credentials-main-update-password-confirmation").parent().addClass("has-danger"),$("#credentials-main-update-password-confirmation").next("small").text("Wrong password confirmation")))}),$("#credentials-main-update-password-confirmation").keyup(function(){null!=$(this).val()&&($(this).val()==$("#credentials-main-update-new-password").val()?$(this).parent().hasClass("has-danger")&&($(this).parent().removeClass("has-danger"),$(this).parent().addClass("has-success"),$(this).next("small").text("valid")):""==$("#credentials-main-update-new-password").val()?$("#credentials-main-update-new-password").hasClass("has-danger")||($("#credentials-main-update-new-password").removeClass("has-danger"),$("#credentials-main-update-new-password").next("small").text("Password must not be empty")):$(this).parent().hasClass("has-success")?($(this).parent().removeClass("has-success"),$(this).parent().addClass("has-danger"),$(this).next("small").text("Wrong password confirmation")):($(this).parent().addClass("has-danger"),$(this).next("small").text("Wrong password confirmation")))});